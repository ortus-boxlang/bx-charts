<bx:include template="includes/head.bxm">

<div class="container-fluid mt-4">
	<div class="row">
		<div class="col-12">
			<h1 class="display-4 mb-4">📊 Array-Based Charts</h1>
			<p class="lead">
				This page demonstrates using array data sources with charts, providing a flexible alternative to chartData components and queries.
			</p>
		</div>
	</div>

	<!-- Bar Chart with Array of Structs -->
	<div class="row mb-5">
		<div class="col-12">
			<div class="card shadow">
				<div class="card-header bg-primary text-white">
					<h3 class="mb-0">📈 Bar Chart with Array of Structs</h3>
				</div>
				<div class="card-body">
					<p class="text-muted">
						Using array of structs format: <code>[{item:"Product A",value:100}]</code>
					</p>
					<bx:chart title="Product Sales Revenue"
							  chartwidth="800" chartheight="400"
							  xaxistitle="Products" yaxistitle="Revenue ($)"
							  showygridlines="true"
							  backgroundcolor="##f8f9fa">
						<bx:chartseries type="bar" 
										data="#[
											{item:'Product A',value:15000},
											{item:'Product B',value:23000},
											{item:'Product C',value:18000},
											{item:'Product D',value:12000},
											{item:'Product E',value:27000}
										]#"
										colorlist="36A2EB"
										serieslabel="Sales Revenue">
						</bx:chartseries>
					</bx:chart>
				</div>
			</div>
		</div>
	</div>

	<!-- Horizontal Bar Chart with Array of Arrays -->
	<div class="row mb-5">
		<div class="col-12">
			<div class="card shadow">
				<div class="card-header bg-success text-white">
					<h3 class="mb-0">🏢 Horizontal Bar Chart with Array of Arrays</h3>
				</div>
				<div class="card-body">
					<p class="text-muted">
						Using array of arrays (positional) format: <code>[["Department",1000]]</code>
					</p>
					<bx:chart title="Department Budgets ($1000s)"
							  chartwidth="800" chartheight="400"
							  xaxistitle="Budget" yaxistitle="Department"
							  showxgridlines="true">
						<bx:chartseries type="horizontalbar" 
										data="#[
											['Engineering',850],
											['Marketing',620],
											['Sales',950],
											['HR',340],
											['Operations',720]
										]#"
										colorlist="FF6384,36A2EB,FFCE56,4BC0C0,9966FF"
										serieslabel="Budget Allocation">
						</bx:chartseries>
					</bx:chart>
				</div>
			</div>
		</div>
	</div>

	<!-- Line Chart with Array of Structs -->
	<div class="row mb-5">
		<div class="col-12">
			<div class="card shadow">
				<div class="card-header bg-info text-white">
					<h3 class="mb-0">📈 Line Chart with Array Data</h3>
				</div>
				<div class="card-body">
					<p class="text-muted">
						Monthly revenue trend using array of structs
					</p>
					<bx:chart title="Monthly Revenue Trend"
							  chartwidth="800" chartheight="400"
							  xaxistitle="Month" yaxistitle="Revenue ($)"
							  showygridlines="true"
							  markersize="6">
						<bx:chartseries type="line" 
										data="#[
											{item:'January',value:120000},
											{item:'February',value:135000},
											{item:'March',value:148000},
											{item:'April',value:162000},
											{item:'May',value:178000},
											{item:'June',value:195000}
										]#"
										colorlist="9966FF"
										serieslabel="Revenue">
						</bx:chartseries>
					</bx:chart>
				</div>
			</div>
		</div>
	</div>

	<!-- Pie Chart with Array of Arrays -->
	<div class="row mb-5">
		<div class="col-12">
			<div class="card shadow">
				<div class="card-header bg-warning text-dark">
					<h3 class="mb-0">🥧 Pie Chart with Array Data</h3>
				</div>
				<div class="card-body">
					<p class="text-muted">
						Regional sales distribution using array of arrays
					</p>
					<div class="d-flex justify-content-center">
						<bx:chart title="Sales by Region"
								  chartwidth="600" chartheight="600"
								  showlegend="true">
							<bx:chartseries type="pie" 
											data="#[
												['North America',450],
												['Europe',380],
												['Asia Pacific',520],
												['Latin America',210],
												['Middle East',180]
											]#"
											colorlist="FF6384,36A2EB,FFCE56,4BC0C0,9966FF"
											serieslabel="Regional Sales">
							</bx:chartseries>
						</bx:chart>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Doughnut Chart with Array of Structs -->
	<div class="row mb-5">
		<div class="col-12">
			<div class="card shadow">
				<div class="card-header bg-secondary text-white">
					<h3 class="mb-0">🍩 Doughnut Chart with Array Data</h3>
				</div>
				<div class="card-body">
					<p class="text-muted">
						Performance metrics visualization using array of structs
					</p>
					<div class="d-flex justify-content-center">
						<bx:chart title="Website Performance Metrics"
								  chartwidth="600" chartheight="600"
								  showlegend="true"
								  backgroundcolor="##ffffff">
							<bx:chartseries type="doughnut" 
											data="#[
												{item:'Page Views',value:15420},
												{item:'Unique Visitors',value:8750},
												{item:'New Users',value:3240},
												{item:'Returning Users',value:5510}
											]#"
											colorlist="FF6384,36A2EB,FFCE56,4BC0C0"
											serieslabel="Metrics">
							</bx:chartseries>
						</bx:chart>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Area Chart with Array of Arrays -->
	<div class="row mb-5">
		<div class="col-12">
			<div class="card shadow">
				<div class="card-header" style="background-color: ##6f42c1; color: white;">
					<h3 class="mb-0">🏔️ Area Chart with Array Data</h3>
				</div>
				<div class="card-body">
					<p class="text-muted">
						Revenue trend with filled area using array of arrays
					</p>
					<bx:chart title="Revenue Growth Over Time"
							  chartwidth="800" chartheight="400"
							  xaxistitle="Month" yaxistitle="Revenue ($)"
							  showygridlines="true"
							  showxgridlines="false">
						<bx:chartseries type="area" 
										data="#[
											['January',120000],
											['February',135000],
											['March',148000],
											['April',162000],
											['May',178000],
											['June',195000]
										]#"
										colorlist="6f42c1"
										serieslabel="Revenue Growth">
						</bx:chartseries>
					</bx:chart>
				</div>
			</div>
		</div>
	</div>

	<!-- Bubble Chart with Array of Structs -->
	<div class="row mb-5">
		<div class="col-12">
			<div class="card shadow">
				<div class="card-header" style="background-color: ##e83e8c; color: white;">
					<h3 class="mb-0">🫧 Bubble Chart with Array of Structs</h3>
				</div>
				<div class="card-body">
					<p class="text-muted">
						Portfolio analysis using array of structs with x, y, r coordinates
					</p>
					<bx:chart title="Product Portfolio Analysis"
							  chartwidth="800" chartheight="500"
							  xaxistitle="Market Share (%)" yaxistitle="Revenue ($M)"
							  showxgridlines="true" showygridlines="true">
						<bx:chartseries type="bubble" 
										data="#[
											{item:'Product A',x:20,y:30,r:15},
											{item:'Product B',x:40,y:10,r:10},
											{item:'Product C',x:30,y:20,r:25},
											{item:'Product D',x:15,y:35,r:8},
											{item:'Product E',x:50,y:45,r:20}
										]#"
										colorlist="FF6384,36A2EB,FFCE56,4BC0C0,9966FF"
										serieslabel="Product Performance">
						</bx:chartseries>
					</bx:chart>
				</div>
			</div>
		</div>
	</div>

	<!-- Bubble Chart with Array of Arrays -->
	<div class="row mb-5">
		<div class="col-12">
			<div class="card shadow">
				<div class="card-header" style="background-color: ##fd7e14; color: white;">
					<h3 class="mb-0">🫧 Bubble Chart with Array of Arrays (Positional)</h3>
				</div>
				<div class="card-body">
					<p class="text-muted">
						Investment analysis using positional array format: <code>[["Name",x,y,r]]</code>
					</p>
					<bx:chart title="Investment Portfolio Analysis"
							  chartwidth="800" chartheight="500"
							  xaxistitle="Risk Score" yaxistitle="Expected Return (%)"
							  showxgridlines="true" showygridlines="true">
						<bx:chartseries type="bubble" 
										data="#[
											['Stock A',25,12,18],
											['Stock B',45,8,12],
											['Bond C',10,6,8],
											['Stock D',35,15,22],
											['ETF E',20,10,15]
										]#"
										colorlist="FF6384,36A2EB,FFCE56,4BC0C0,9966FF"
										serieslabel="Investment Options">
						</bx:chartseries>
					</bx:chart>
				</div>
			</div>
		</div>
	</div>

	<!-- Scatter Plot with Array of Structs -->
	<div class="row mb-5">
		<div class="col-12">
			<div class="card shadow">
				<div class="card-header" style="background-color: ##20c997; color: white;">
					<h3 class="mb-0">🔵 Scatter Plot with Array Data</h3>
				</div>
				<div class="card-body">
					<p class="text-muted">
						Performance correlation using array of structs
					</p>
					<bx:chart title="Response Time vs Throughput"
							  chartwidth="800" chartheight="500"
							  xaxistitle="Response Time (ms)" yaxistitle="Requests/sec"
							  showxgridlines="true" showygridlines="true"
							  markersize="8">
						<bx:chartseries type="scatter" 
										data="#[
											{item:'Server 1',value:120},
											{item:'Server 2',value:85},
											{item:'Server 3',value:200},
											{item:'Server 4',value:150},
											{item:'Server 5',value:95},
											{item:'Server 6',value:175}
										]#"
										colorlist="20c997"
										serieslabel="Server Performance">
						</bx:chartseries>
					</bx:chart>
				</div>
			</div>
		</div>
	</div>

	<!-- Radar Chart with Array of Arrays -->
	<div class="row mb-5">
		<div class="col-12">
			<div class="card shadow">
				<div class="card-header" style="background-color: ##6610f2; color: white;">
					<h3 class="mb-0">🕸️ Radar Chart with Array Data</h3>
				</div>
				<div class="card-body">
					<p class="text-muted">
						Skills assessment using array of arrays
					</p>
					<div class="d-flex justify-content-center">
						<bx:chart title="Developer Skills Assessment"
								  chartwidth="600" chartheight="600"
								  showlegend="true">
							<bx:chartseries type="radar" 
											data="#[
												['JavaScript',85],
												['BoxLang',95],
												['Database',75],
												['DevOps',70],
												['Security',80],
												['Testing',90]
											]#"
											colorlist="6610f2"
											serieslabel="Current Skills">
							</bx:chartseries>
						</bx:chart>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Documentation -->
	<div class="row mb-5">
		<div class="col-12">
			<div class="card shadow">
				<div class="card-header bg-dark text-white">
					<h3 class="mb-0">📚 Using Arrays with Charts</h3>
				</div>
				<div class="card-body">
					<h5>Benefits of Array-Based Charts</h5>
					<ul>
						<li>Flexible data format - choose structs or arrays based on your needs</li>
						<li>Eliminates need for manual <code>&lt;bx:chartdata&gt;</code> components</li>
						<li>Perfect for programmatically generated data</li>
						<li>Works great with JSON data sources</li>
						<li>Reduces boilerplate code</li>
					</ul>

					<h5 class="mt-4">Supported Formats</h5>
					
					<h6 class="mt-3">1. Array of Structs (Named Keys)</h6>
					<p>Use this format when you want readable, self-documenting code:</p>
					<pre><code>&lt;bx:chartseries type="bar" 
    data="##[
        {item:'Product A', value:100},
        {item:'Product B', value:200}
    ]##"&gt;
&lt;/bx:chartseries&gt;</code></pre>

					<h6 class="mt-3">2. Array of Arrays (Positional)</h6>
					<p>Use this format for compact, efficient data representation:</p>
					<pre><code>&lt;bx:chartseries type="pie" 
    data="##[
        ['Product A', 100],
        ['Product B', 200]
    ]##"&gt;
&lt;/bx:chartseries&gt;</code></pre>

					<h6 class="mt-3">3. Bubble Charts with Structs</h6>
					<p>For bubble charts, use x, y, r instead of value:</p>
					<pre><code>&lt;bx:chartseries type="bubble" 
    data="##[
        {item:'Point A', x:10, y:20, r:5},
        {item:'Point B', x:15, y:25, r:8}
    ]##"&gt;
&lt;/bx:chartseries&gt;</code></pre>

					<h6 class="mt-3">4. Bubble Charts with Arrays</h6>
					<p>Positional format for bubble charts: [item, x, y, r]</p>
					<pre><code>&lt;bx:chartseries type="bubble" 
    data="##[
        ['Point A', 10, 20, 5],
        ['Point B', 15, 25, 8]
    ]##"&gt;
&lt;/bx:chartseries&gt;</code></pre>

					<h5 class="mt-4">Data Requirements</h5>
					<ul>
						<li>Array must not be empty</li>
						<li>All elements must be the same format (all structs or all arrays)</li>
						<li>For standard charts: structs need <code>item</code> and <code>value</code> keys, arrays need 2 elements</li>
						<li>For bubble charts: structs need <code>item</code>, <code>x</code>, <code>y</code>, <code>r</code> keys, arrays need 4 elements</li>
					</ul>

					<h5 class="mt-4">When to Use Each Format</h5>
					<table class="table table-striped mt-3">
						<thead>
							<tr>
								<th>Format</th>
								<th>Best For</th>
								<th>Example Use Case</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td><code>&lt;bx:chartdata&gt;</code></td>
								<td>Static, template-defined data</td>
								<td>Hardcoded examples, demos</td>
							</tr>
							<tr>
								<td><code>query</code> attribute</td>
								<td>Database-driven charts</td>
								<td>Reports from database queries</td>
							</tr>
							<tr>
								<td><code>data</code> array (structs)</td>
								<td>JSON data, API responses</td>
								<td>External data sources, REST APIs</td>
							</tr>
							<tr>
								<td><code>data</code> array (arrays)</td>
								<td>CSV data, compact storage</td>
								<td>File imports, memory-efficient data</td>
							</tr>
						</tbody>
					</table>

					<h5 class="mt-4">Dynamic Data Example</h5>
					<pre><code>&lt;bx:script&gt;
    // Build data array dynamically
    chartData = [];
    for (i = 1; i <= 5; i++) {
        arrayAppend(chartData, {
            item: "Item " & i,
            value: randRange(100, 500)
        });
    }
&lt;/bx:script&gt;

&lt;bx:chart title="Dynamic Data"&gt;
    &lt;bx:chartseries type="bar" data="##chartData##"&gt;
    &lt;/bx:chartseries&gt;
&lt;/bx:chart&gt;</code></pre>
				</div>
			</div>
		</div>
	</div>
</div>

<bx:include template="includes/footer.bxm">
